<!DOCTYPE html>
<html>
<head>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <meta charset="UTF-8" />
    <title>Cinema XYZ - Film in Programmazione</title>
    <link rel="stylesheet" href="/css/stile.css" />
</head>
<body class="h-100">
	
	<header class="d-flex justify-content-between align-items-center py-3">
	    <div style="flex-grow: 1;"></div>

	    <div style="flex-grow: 1; text-align: center;">
	        <a href="/">
	            <img class="logo img-fluid" src="/images/logoC.png" alt="Logo Cinema" style="max-height: 100px;">
	        </a>
	    </div>

	    <div style="flex-grow: 1; text-align: end;">
	        <div th:if="${userDetails}">
				<a href="/mie-prenotazioni">
	            <span th:text="${userDetails.username}"></span>
				</a>
	            <a href="/logout" class="btn btn-outline-danger ms-2">Logout</a>
	        </div>
	        <div th:unless="${userDetails}">
	            <a href="/login" class="btn btn-outline-primary">Login</a>
	        </div>
	    </div>
	</header>

   

    <div class='film-container '>
		
		<h1 class="text-center">Film in Programmazione</h1>
        <div class="film-card row justify-content-center"  th:each="film : ${filmInProgrammazione}">
            <h2 class="film-title col-12 text-center" th:text="${film.titolo}"></h2>
            
			<div class="card mb-3 col-7" style="max-width: 540px;">
			    <div class="row g-0">
			        <div class="col-md-4">
			            <a th:href="@{/film/{id}(id=${film.id})}">
			                <img th:src="${film.immagineCopertinaUrl}" class="img-fluid rounded-start" alt="Copertina film" style="height: 100%; object-fit: cover;">
			            </a>
			        </div>
			        <div class="col-md-8">
			            <div class="card-body">
			                <h5 class="card-title" th:text="${film.titolo}"></h5>
			                <p class="card-text">
			                    <strong>Regista:</strong> <span th:text="${film.regista}"></span><br>
			                    <strong>Attori:</strong> <span th:text="${film.attori}"></span><br>
			                    <strong>Durata:</strong> <span th:text="${film.durataMinuti} + ' min'"></span><br>
			                    <strong>Et√† Minima:</strong> <span th:text="${film.etaMinima}"></span>
			                </p>
			            </div>
			        </div>
			    </div>
			</div>

			<div class="spettacoli-list col-4">
			    <h3>Spettacoli Disponibili:</h3>
			    <ul>
			        <li th:each="spettacolo : ${spettacoliPerFilm.get(film.id)}">
			            <a th:href="@{/film/{filmId}/{spettacoloId}(filmId=${film.id}, spettacoloId=${spettacolo.id})}">
			                <button th:text="${#temporals.format(spettacolo.orario, 'HH:mm')}"></button>
			            </a>
			        </li>
			    </ul>
			</div>
        </div>
    </div>
	
	
	
</body>
</html>